(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{128:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},265:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),r=a.n(c),s=a(31),i=a.n(s),o=(a(141),a(273)),u=a(269),d=a(270),l=(a(142),a(271)),j=a(272),h=function(e){var t=e.onFinish;return Object(n.jsx)("div",{className:"filter",children:Object(n.jsx)(l.a,{name:"filter-location",onFinish:t,children:Object(n.jsx)(l.a.Item,{name:"location",label:"Your city",children:Object(n.jsx)(j.a,{})})})})},b=a(52),m=a.n(b),f=a(81),O=a(43),x=a(69),p=function(e,t,a){var s=r.a.createContext();return{Context:s,Provider:function(r){var i=r.children,o=Object(c.useReducer)(e,a),u=Object(x.a)(o,2),d=u[0],l=u[1],j={};for(var h in t)j[h]=t[h](l);return Object(n.jsx)(s.Provider,{value:Object(O.a)({state:d},j),children:i})}}},v=a(127),g="cef69f28e286b68b16035e062134d14c",w={baseURL:"https://api.openweathermap.org/data/2.5/"},y=a.n(v).a.create(w),N=p((function(e,t){switch(t.type){case"set_weather":return Object(O.a)(Object(O.a)({},e),{},{data:t.payload});case"set_forecast":return Object(O.a)(Object(O.a)({},e),{},{forecast:t.payload});default:return e}}),{getWeatherData:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("place",a),n="",a.location?n="weather?q=".concat(a.location):a.latitude&&a.longitude&&(n="weather?lat=".concat(a.latitude,"&lon=").concat(a.longitude)),t.next=5,y({method:"get",url:"".concat(n,"&appid=").concat(g)});case 5:c=t.sent,e({type:"set_weather",payload:c.data});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getForecast:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("place:",a),n="",a.location?n="forecast?q=".concat(a.location):a.latitude&&a.longitude&&(n="forecast?lat=".concat(a.latitude,"&lon=").concat(a.longitude)),t.next=5,y({method:"get",url:"".concat(n,"&appid=").concat(g)});case 5:c=t.sent,e({type:"set_forecast",payload:c.data});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{data:{},forecast:{}}),F=N.Provider,C=N.Context,k=a(36),S=function(e){switch(e.name){case"Thunderstorm":return Object(n.jsx)(k.f,{});case"Drizzle":return Object(n.jsx)(k.c,{});case"Snow":return Object(n.jsx)(k.d,{});case"Mist":case"Fog":return Object(n.jsx)(k.b,{});case"Smoke":return Object(n.jsx)(k.h,{});case"Rain":case"Haze":case"Dust":case"Sand":case"Ash":case"Squall":case"Tornado":return Object(n.jsx)(k.g,{});case"Clouds":return Object(n.jsx)(k.a,{});default:return Object(n.jsx)(k.e,{})}},T=function(e){var t=e.name,a=e.value,r=e.className;return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)("p",{children:t}),Object(n.jsx)("span",{className:r,children:a})]})},D=function(e){var t=e.humidity,a=e.wind;return Object(n.jsxs)("div",{className:"humidity-wind",children:[Object(n.jsx)("div",{className:"humidity",children:Object(n.jsx)(T,{name:"Humidity",value:"".concat(t," %"),className:"humidity-percent"})}),Object(n.jsx)("div",{className:"wind",children:Object(n.jsx)(T,{name:"Wind speed",value:"".concat(a," km/h"),className:"wind-speed"})})]})},M=function(e){var t=e.weather,a=e.main,r=e.wind,s=t[0]?t[0].main:"Clear";return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("div",{className:"weatherCont",children:[Object(n.jsx)(S,{name:s}),Object(n.jsx)("p",{children:s})]}),Object(n.jsx)(D,{humidity:a.humidity,wind:r.speed})]})},P=(a(258),a(128)),_=a.n(P),Y=function(e){var t=e.list,a=Object(c.useRef)(null),r=Object(c.useState)(null),s=(Object(x.a)(r,2)[1],[]),i=[];return t.filter((function(e){return e.dt_txt.includes("18:00:00")})).map((function(e){return s.push(e.main.temp),i.push(e.main.temp),0})),Object(n.jsx)("div",{className:_.a.graphContainer,children:Object(n.jsx)("canvas",{id:"my-chart",ref:a})})},H=function(e){var t=e.weather,a=e.main.humidity,c=t[0]?t[0].main:"Clear";return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"weatherItem",children:[Object(n.jsx)(S,{name:c}),Object(n.jsx)("p",{children:c}),Object(n.jsx)("div",{className:"humidity",children:Object(n.jsx)(T,{name:"Humidity",value:"".concat(a," %"),className:"humidity-percent"})})]})})},I=a(79),R=a.n(I),q=function(e){var t=e.list;return Object(n.jsx)("div",{className:"forecast",children:t.filter((function(e){return e.dt_txt.includes("18:00:00")})).map((function(e,t){var a=R.a.unix(e.dt).format("MMMM Do YYYY");return 0===t&&(a="Today"),Object(n.jsxs)("div",{className:"forecast-daily",children:[a,Object(n.jsx)(H,{main:e.main,weather:e.weather})]},e.dt)}))})},z=a(129),L=function(){var e=Object(c.useContext)(C),t=e.state,a=e.getWeatherData,r=e.getForecast,s=Object(z.usePosition)(!0),i=s.latitude,l=s.longitude;Object(c.useEffect)((function(){if(i&&l){var e={latitude:i,longitude:l};a(e),setTimeout((function(){r(e)}),900)}}),[i,l]);return Object(n.jsx)(o.a,{children:Object(n.jsxs)(u.a,{children:[Object(n.jsxs)(d.a,{lg:6,md:6,xs:24,children:[Object(n.jsx)(h,{onFinish:function(e){a(e),setTimeout((function(){r(e)}),900)}}),Object.keys(t.data).length>0?Object(n.jsx)(M,{weather:t.data.weather,wind:t.data.wind,main:t.data.main}):null]}),Object(n.jsx)(d.a,{lg:18,md:18,xs:24,children:Object(n.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:Object.keys(t.forecast).length>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y,{list:t.forecast.list}),Object(n.jsx)(q,{list:t.forecast.list})]}):null})})]})})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,274)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(F,{children:Object(n.jsx)(L,{})})}),document.getElementById("root")),W()}},[[265,1,2]]]);
//# sourceMappingURL=main.95f6ad02.chunk.js.map